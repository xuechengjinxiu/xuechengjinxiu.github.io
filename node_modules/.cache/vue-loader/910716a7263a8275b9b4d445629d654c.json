{"remainingRequest":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/src/views/ComCreRes.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/src/views/ComCreRes.vue","mtime":1585119550000},{"path":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/vuetify-loader/lib/loader.js","mtime":1564062719000},{"path":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport seedLib, { Seed } from \"@/libs1/seed\";\nimport words from \"@/libs1/word-list\";\nexport default {\n  props: {\n    hasSilder: {\n      type: Boolean,\n      default: false\n    },\n    titleTip: String,\n    tipsBtn: String,\n    seedWords: String\n  },\n  created() {},\n  data() {\n    return {\n      walletNum: 1,\n      checkWordPromp: \"\",\n      valid: false,\n      password: \"\",\n      password2: \"\",\n      dialog: false,\n      passSeed: true,\n      // addressAmount: 1,\n      rules: {\n        required: f => {\n          return v => !!v || `${f} is required`;\n        },\n        min: (f, n) => {\n          return v =>\n            (v == null ? \"\" : v).length >= n ||\n            `${f} is too short (should be at least ${n} characters)`;\n        },\n        max: (f, n) => {\n          return v =>\n            (v == null ? \"\" : v).length <= n ||\n            `${f} is too long (should be at most ${n} characters)`;\n        },\n        noSymbol: f => {\n          return v =>\n            !/[-+\\\\.,/()*&^%$#@!~?{};:<>|]/.test(v) ||\n            `${f} is not valid (special symbols detected)`;\n        },\n        containAlpha: f => {\n          return v =>\n            /[a-zA-z]/.test(v) || `${f} must contain alphabetical character`;\n        },\n        passEquel: txt => {\n          return v => v === txt || \"Passwords are not the same\";\n        }\n      }\n    };\n  },\n  computed: {\n    checkStrong() {\n      if (this.password != null) {\n        if (this.password.length >= 8 && this.password.length <= 32) {\n          let Modes = 0;\n          for (let i = 0; i < this.password.length; i++) {\n            Modes |= this.checkMode(this.password.charCodeAt(i));\n          }\n          console.log(Modes);\n          return this.bitTotal(Modes);\n        }\n      }\n      return 0;\n    }\n  },\n  watch: {\n    dialog(nv) {\n      //lock scroll when dialog is open\n      this.$utils.lockScroll(nv);\n    }\n  },\n  methods: {\n    clearSeeds() {\n      this.$refs.textarea.value = \"\";\n    },\n    checkMode(NP) {\n      if (NP >= 48 && NP <= 57) return 1; //number\n      if (NP >= 65 && NP <= 90) return 2; //uppercase\n      if (NP >= 97 && NP <= 122) return 2;\n      //lowercase\n      else return 4;\n    },\n    bitTotal(num) {\n      let modes = 0;\n      for (let i = 0; i < 4; i++) {\n        if (num & 1) modes++;\n        num >>>= 1; // displacement calculation\n      }\n      console.log(modes);\n      return modes;\n    },\n    checkWords() {\n      let checkWords = this.$refs.textarea.value\n        .trim()\n        .replace(/\\s+|\\r+|\\n+/g, \" \")\n        .split(\" \");\n      if (checkWords.length >= 15 && checkWords.length <= 18) {\n        let warningWords = checkWords.filter(\n          item => words.indexOf(item) === -1\n        );\n        if (warningWords.length != 0) {\n          // alert(\"warning! \" + warningWords + \" is not in the vocabulary\");\n          this.checkWordPromp = \"Warning! Some words is not in the vocabulary\";\n        } else {\n          this.checkWordPromp = \"\";\n        }\n        return true;\n      } else {\n        // alert(\"Your seed should be more than 15 and less than 18\");\n        this.checkWordPromp =\n          \"Your seed should be more than 15 and less than 18\";\n        return false;\n      }\n    },\n    register() {\n      if (!this.checkWords()) return;\n      if (!this.$refs.form.validate()) return;\n      //Clear Old Info\n      window.localStorage.clear();\n      this.$store.commit(\"reset_state\");\n      //Get Seed Words\n      let standardSeed = this.$refs.textarea.value\n        .trim()\n        .replace(/\\s+|\\r+|\\n+/g, \" \");\n      //encrypt seed\n      const userInfo = {\n        encrSeed: seedLib.encryptSeedPhrase(standardSeed, this.password)\n      };\n      let aliasObj = {};\n      // Storage vuex\n      this.$store.commit(\"ADD_INFO\", {\n        password: this.password,\n        seed: standardSeed,\n        walletCount: this.walletNum,\n        currentIndex: 0\n      });\n      for (let i = 0; i < this.walletNum; i++) {\n        //Generate seed information\n        aliasObj[i] = \"\";\n        this.seed = new Seed(standardSeed, i, this.$config.NET_BYTE);\n        this.$store.commit(\"add_wallets\", {\n          index: i,\n          data: {\n            address: this.seed.address,\n            keyPair: this.seed.keyPair,\n            alias: \"\",\n            balance: \"\",\n            vsysBalance: 0,\n            transactionCount: \"\",\n            updateTime: \"\"\n          }\n        });\n      }\n      //Init encryptSeed\n      window.localStorage[\"encryptSeed\"] = seedLib.encryptSeedPhrase(\n        JSON.stringify(userInfo),\n        this.password\n      );\n      //Init sessionTimeout\n      window.localStorage[\"sessionTimeout\"] = 5;\n      //Init lastLogin\n      window.localStorage[\"lastLogin\"] = new Date().getTime();\n      //Init walletCount\n      window.localStorage[\"walletCount\"] = this.walletNum;\n      //Init alias\n      window.localStorage[\"alias\"] = JSON.stringify(aliasObj);\n      //goto createsecond\n      this.$router.replace({ path: \"/createsecond\" });\n    }\n  }\n};\n",{"version":3,"sources":["ComCreRes.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ComCreRes.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"mt-4\">\n    <p class=\"display-2 font-weight-bold text-center\">{{ titleTip }}</p>\n    <p\n      class=\"text-center SF-Text-Regular font15 mt-3\"\n      style=\"margin: 12px 20px 28px 20px\"\n    >\n      <slot name=\"headline\"></slot>\n    </p>\n    <!-- form -->\n    <v-form ref=\"form\" v-model=\"valid\">\n      <div class=\"px-4 pt-6 white form-content\">\n        <!-- Seed -->\n        <div class=\"d-flex justify-space-between mb-3 px-1\">\n          <span class=\"SF-Text-Medium font15\">Seed</span>\n          <slot></slot>\n        </div>\n        <textarea\n          ref=\"textarea\"\n          rows=\"4\"\n          class=\"secondary text-center col-12 SF-Text-Regular font15\"\n          placeholder=\"Input Your Backup Seed to Restore\"\n          v-html=\"seedWords\"\n          @blur=\"checkWords()\"\n        ></textarea>\n        <!-- Create Password -->\n        <div\n          class=\"mb-2\"\n          style=\"color: var(--v-error-base);font-size: 12px;height: 14px;\"\n        >\n          <transition name=\"move\">\n            <p class=\"px-3\" v-if=\"checkWordPromp\">{{ checkWordPromp }}</p>\n          </transition>\n        </div>\n        <div class=\"d-flex justify-space-between align-center mb-3\">\n          <p class=\"SF-Text-Medium font15\">Create Password</p>\n          <div class=\"font13\">\n            <p v-if=\"0 == checkStrong\" class=\"grey--text\">\n              <span>——————</span>\n            </p>\n            <p v-if=\"1 == checkStrong\" class=\"error--text\">\n              <span class=\"SF-Text-Regular\">Weak</span>\n              <span>——<span class=\"grey--text\">————</span></span>\n            </p>\n            <p v-if=\"2 == checkStrong\" class=\"warning--text\">\n              <span class=\"SF-Text-Regular\">Medium</span>\n              <span>————<span class=\"grey--text\">——</span></span>\n            </p>\n            <p v-if=\"3 == checkStrong\" class=\"strong--text\">\n              <span class=\"SF-Text-Regular\">Strong</span>\n              <span>——————</span>\n            </p>\n          </div>\n        </div>\n        <!-- input for user -->\n        <v-text-field\n          solo\n          flat\n          clearable\n          type=\"password\"\n          v-model=\"password\"\n          background-color=\"secondary\"\n          label=\"At Least 8 Characters\"\n          :rules=\"[\n            rules.required('Password'),\n            rules.min('Password', 8),\n            rules.max('Password', 30),\n            rules.containAlpha('Password')\n          ]\"\n        ></v-text-field>\n        <!-- Confirm Password -->\n        <p class=\"SF-Text-Medium font15 mb-3\">Confirm Password</p>\n        <v-text-field\n          solo\n          flat\n          clearable\n          type=\"password\"\n          v-model=\"password2\"\n          background-color=\"secondary\"\n          label=\"Repeat The Password\"\n          :rules=\"[rules.passEquel(password)]\"\n        ></v-text-field>\n        <!-- Wallet Number Silder -->\n        <div v-if=\"hasSilder\">\n          <div class=\"d-flex justify-space-between\">\n            <span class=\"ml-1 SF-Text-Medium font15\">Wallet Number</span>\n            <span class=\"color-grey SF-Text-Regular font13\"\n              ><span class=\"primary--text\">{{ walletNum }}</span> Wallet\n              Address</span\n            >\n          </div>\n          <v-slider\n            v-model=\"walletNum\"\n            min=\"1\"\n            max=\"9\"\n            step=\"2\"\n            ticks=\"always\"\n            hide-details\n            tick-size=\"12\"\n            track-color=\"#F7F7F7\"\n            style=\"padding: 10px 0 22px 0\"\n          >\n          </v-slider>\n        </div>\n      </div>\n    </v-form>\n    <!-- tipsBtn -->\n    <v-btn\n      block\n      color=\"primary\"\n      dark\n      class=\"text-none mt-6 btn SF-Text-Medium\"\n      @click=\"register\"\n    >\n      {{ tipsBtn }}\n    </v-btn>\n    <p\n      class=\"text-center mt-5 SF-Text-Regular font14\"\n      @click=\"dialog = !dialog\"\n    >\n      Instruction Detail&nbsp;\n      <img\n        style=\"vertical-align: middle;\"\n        src=\"@/assets/ic_arrow_right.png\"\n        alt=\"\"\n      />\n    </p>\n    <!-- v-dialog -->\n    <v-dialog v-model=\"dialog\" transition=\"dialog-bottom-transition\">\n      <v-card style=\"min-height: 100%\">\n        <div class=\"d-flex px-4 pt-4\" style=\"margin-bottom:34px\">\n          <v-icon large @click=\"dialog = false\" style=\"position: absolute\"\n            >mdi-close</v-icon\n          >\n          <p class=\"text-center flex-grow-1 SF-Text-Medium font18\">\n            Instruction Detail\n          </p>\n        </div>\n        <div class=\" SF-Text-Regular font15 pb-3\">\n          <p class=\"px-4\">\n            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean\n            euismod bibendum laoreet. Proin gravida dolor sit amet lacus\n            accumsan et viverra justo commodo. Proin sodales pulvinar sic\n            tempor. Sociis natoque penatibus et magnis dis parturient montes,\n            nascetur ridiculus mus. Nam fermentum, nulla luctus pharetra\n            vulputate, felis tellus mollis orci, sed rhoncus pronin sapien nunc\n            accuan eget.\n          </p>\n          <p class=\"px-4\">\n            consectetur adipiscing elit. Aenean euismod bibendum laoreet. Proin\n            gravida dolor sit amet lacus accumsan et viverra justo commodo.\n            Proin sodales pulvinar sic tempor. Sociis natoque penatibus et\n            magnis dis parturient montes, nascetur ridiculus mus. Nam fermentum,\n            nulla luctus pharetra vulputate, felis tellus mollis orci, sed\n            rhoncus pronin sapien nunc accuan eget.\n          </p>\n        </div>\n      </v-card>\n    </v-dialog>\n  </div>\n</template>\n\n<script>\nimport seedLib, { Seed } from \"@/libs1/seed\";\nimport words from \"@/libs1/word-list\";\nexport default {\n  props: {\n    hasSilder: {\n      type: Boolean,\n      default: false\n    },\n    titleTip: String,\n    tipsBtn: String,\n    seedWords: String\n  },\n  created() {},\n  data() {\n    return {\n      walletNum: 1,\n      checkWordPromp: \"\",\n      valid: false,\n      password: \"\",\n      password2: \"\",\n      dialog: false,\n      passSeed: true,\n      // addressAmount: 1,\n      rules: {\n        required: f => {\n          return v => !!v || `${f} is required`;\n        },\n        min: (f, n) => {\n          return v =>\n            (v == null ? \"\" : v).length >= n ||\n            `${f} is too short (should be at least ${n} characters)`;\n        },\n        max: (f, n) => {\n          return v =>\n            (v == null ? \"\" : v).length <= n ||\n            `${f} is too long (should be at most ${n} characters)`;\n        },\n        noSymbol: f => {\n          return v =>\n            !/[-+\\\\.,/()*&^%$#@!~?{};:<>|]/.test(v) ||\n            `${f} is not valid (special symbols detected)`;\n        },\n        containAlpha: f => {\n          return v =>\n            /[a-zA-z]/.test(v) || `${f} must contain alphabetical character`;\n        },\n        passEquel: txt => {\n          return v => v === txt || \"Passwords are not the same\";\n        }\n      }\n    };\n  },\n  computed: {\n    checkStrong() {\n      if (this.password != null) {\n        if (this.password.length >= 8 && this.password.length <= 32) {\n          let Modes = 0;\n          for (let i = 0; i < this.password.length; i++) {\n            Modes |= this.checkMode(this.password.charCodeAt(i));\n          }\n          console.log(Modes);\n          return this.bitTotal(Modes);\n        }\n      }\n      return 0;\n    }\n  },\n  watch: {\n    dialog(nv) {\n      //lock scroll when dialog is open\n      this.$utils.lockScroll(nv);\n    }\n  },\n  methods: {\n    clearSeeds() {\n      this.$refs.textarea.value = \"\";\n    },\n    checkMode(NP) {\n      if (NP >= 48 && NP <= 57) return 1; //number\n      if (NP >= 65 && NP <= 90) return 2; //uppercase\n      if (NP >= 97 && NP <= 122) return 2;\n      //lowercase\n      else return 4;\n    },\n    bitTotal(num) {\n      let modes = 0;\n      for (let i = 0; i < 4; i++) {\n        if (num & 1) modes++;\n        num >>>= 1; // displacement calculation\n      }\n      console.log(modes);\n      return modes;\n    },\n    checkWords() {\n      let checkWords = this.$refs.textarea.value\n        .trim()\n        .replace(/\\s+|\\r+|\\n+/g, \" \")\n        .split(\" \");\n      if (checkWords.length >= 15 && checkWords.length <= 18) {\n        let warningWords = checkWords.filter(\n          item => words.indexOf(item) === -1\n        );\n        if (warningWords.length != 0) {\n          // alert(\"warning! \" + warningWords + \" is not in the vocabulary\");\n          this.checkWordPromp = \"Warning! Some words is not in the vocabulary\";\n        } else {\n          this.checkWordPromp = \"\";\n        }\n        return true;\n      } else {\n        // alert(\"Your seed should be more than 15 and less than 18\");\n        this.checkWordPromp =\n          \"Your seed should be more than 15 and less than 18\";\n        return false;\n      }\n    },\n    register() {\n      if (!this.checkWords()) return;\n      if (!this.$refs.form.validate()) return;\n      //Clear Old Info\n      window.localStorage.clear();\n      this.$store.commit(\"reset_state\");\n      //Get Seed Words\n      let standardSeed = this.$refs.textarea.value\n        .trim()\n        .replace(/\\s+|\\r+|\\n+/g, \" \");\n      //encrypt seed\n      const userInfo = {\n        encrSeed: seedLib.encryptSeedPhrase(standardSeed, this.password)\n      };\n      let aliasObj = {};\n      // Storage vuex\n      this.$store.commit(\"ADD_INFO\", {\n        password: this.password,\n        seed: standardSeed,\n        walletCount: this.walletNum,\n        currentIndex: 0\n      });\n      for (let i = 0; i < this.walletNum; i++) {\n        //Generate seed information\n        aliasObj[i] = \"\";\n        this.seed = new Seed(standardSeed, i, this.$config.NET_BYTE);\n        this.$store.commit(\"add_wallets\", {\n          index: i,\n          data: {\n            address: this.seed.address,\n            keyPair: this.seed.keyPair,\n            alias: \"\",\n            balance: \"\",\n            vsysBalance: 0,\n            transactionCount: \"\",\n            updateTime: \"\"\n          }\n        });\n      }\n      //Init encryptSeed\n      window.localStorage[\"encryptSeed\"] = seedLib.encryptSeedPhrase(\n        JSON.stringify(userInfo),\n        this.password\n      );\n      //Init sessionTimeout\n      window.localStorage[\"sessionTimeout\"] = 5;\n      //Init lastLogin\n      window.localStorage[\"lastLogin\"] = new Date().getTime();\n      //Init walletCount\n      window.localStorage[\"walletCount\"] = this.walletNum;\n      //Init alias\n      window.localStorage[\"alias\"] = JSON.stringify(aliasObj);\n      //goto createsecond\n      this.$router.replace({ path: \"/createsecond\" });\n    }\n  }\n};\n</script>\n<style scoped>\n.move-enter-active,\n.move-leave-active {\n  transition: all 0.2s linear;\n  transform: translateY(0%);\n}\n.move-enter,\n.move-leave {\n  transform: translateY(-10px);\n}\n.move-leave-to {\n  transform: translateY(-10px);\n  color: #00b8af;\n}\n.v-input__slider >>> .v-slider__tick {\n  background-color: #f7f7f7;\n  border-radius: 50%;\n}\n.v-input__slider >>> .v-slider__tick--filled {\n  background-color: var(--theme);\n}\n.v-input__slider >>> .v-slider__thumb {\n  height: 20px;\n  width: 20px;\n  background: var(--urlControl) !important;\n}\n.v-input__slider >>> .v-slider__thumb::before {\n  opacity: 0;\n}\n.form-content {\n  border-radius: 16px;\n}\ntextarea {\n  border-radius: 1vh;\n  outline: none;\n  resize: none;\n  overflow: hidden;\n}\n.show-seed {\n  display: flex;\n  align-items: center;\n  text-align: center;\n  min-height: 20vh;\n  border-radius: 1vh;\n}\n.v-dialog__content {\n  display: flex;\n  align-items: flex-end;\n}\n.v-dialog__content >>> .v-dialog--active {\n  margin: 0;\n  height: 100%;\n}\n.v-text-field >>> .v-label {\n  font-family: \"SFProText-Regular\", \"SFProText\", \"SF Pro Text Regular\";\n  font-weight: 400;\n  font-size: 15px;\n  color: #9e9e9e;\n  max-width: 100%;\n}\n.v-text-field >>> .v-messages__message {\n  /* font-family: \"SF Pro Text Regular\"; */\n  /* font-size: 11px; */\n}\n.btn {\n  border-radius: 8px;\n  font-size: 18px;\n}\n</style>\n"]}]}