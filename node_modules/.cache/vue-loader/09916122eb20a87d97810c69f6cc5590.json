{"remainingRequest":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/src/components/PwdText.vue?vue&type=style&index=0&id=0a5ab9ec&scoped=true&lang=css&","dependencies":[{"path":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/src/components/PwdText.vue","mtime":1585119550000},{"path":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/vuetify-loader/lib/loader.js","mtime":1564062719000},{"path":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.move-enter-active,\n.move-leave-active {\n  transition: all 0.2s linear;\n  transform: translateY(0%);\n}\n.move-enter,\n.move-leave {\n  transform: translateY(-10px);\n}\n.move-leave-to {\n  transform: translateY(-10px);\n  color: #00b8af;\n}\ntextarea {\n  outline: none;\n  resize: none;\n  overflow-y: scroll;\n  line-height: 20px;\n  scrollbar-width: none;\n}\ntextarea::-webkit-scrollbar {\n  display: none;\n}\n",{"version":3,"sources":["PwdText.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PwdText.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <div\n      class=\"secondary d-flex align-center justify-space-between SF-Text-Regular px-3 py-4\"\n      style=\"border-radius: 4px\"\n    >\n      <textarea\n        :id=\"id\"\n        v-model=\"key1\"\n        :placeholder=\"promp\"\n        @keydown=\"keyDown($event)\"\n        @input=\"input\"\n        :style=\"textStyle\"\n      />\n      <div class=\"d-flex justify-space-between\">\n        <copy-button\n          v-show=\"isShow\"\n          :copy-id=\"id\"\n          :copy-content=\"key1\"\n          class=\"mx-1\"\n          :color=\"$config.theme\"\n        ></copy-button>\n        <div class=\"warning--text font14\" @click=\"clickShow(key2)\">\n          <span v-if=\"isShow\">Hide</span>\n          <span v-else class=\"primary--text\">Show</span>\n        </div>\n      </div>\n    </div>\n    <div style=\"color: var(--v-error-base);font-size: 12px; height: 24px\">\n      <transition name=\"move\">\n        <p class=\"px-3\" v-show=\"keyPromp\">{{ keyPromp }}</p>\n      </transition>\n    </div>\n  </div>\n</template>\n\n<script>\nimport seedLib from \"@/libs1/seed\";\n\nexport default {\n  name: \"PwdText\",\n  props: {\n    type: String,\n    promp: {\n      type: String,\n      default: \"Please input your password.\"\n    },\n    height: {\n      type: String,\n      default: \"40px\"\n    },\n    id: String\n  },\n  data() {\n    return {\n      keyPromp: \"\",\n      isShow: false,\n      key1: \"\",\n      key2: \"\",\n      keyArr: [],\n      flag: true,\n      textStyle: {\n        height: this.height,\n        width: \"100%\"\n      }\n    };\n  },\n  methods: {\n    keyDown(event) {\n      // If Press Delete key\n      if (event.keyCode == 8) {\n        //if Press Delete & cmd Key\n        if (event.metaKey) {\n          this.key1 = \"\";\n          this.key2 = \"\";\n          this.keyArr = [];\n        } else {\n          this.flag = false;\n          this.keyArr = this.keyArr\n            .join()\n            .replace(/,/g, \"\")\n            .split(\"\");\n          let num = event.target.selectionEnd - event.target.selectionStart;\n          if (num == 1 || num == 0) {\n            this.keyArr.splice(event.target.selectionStart - 1, 1);\n          } else {\n            this.keyArr.splice(event.target.selectionStart, num);\n          }\n          this.key2 = this.keyArr.join().replace(/,/g, \"\");\n        }\n      } else {\n        this.flag = true;\n      }\n    },\n    input() {\n      if (this.flag && this.key1.replace(/\\*/g, \"\") != \"\") {\n        this.passwordText();\n      }\n    },\n    passwordText() {\n      this.keyArr.push(this.key1.replace(/\\*/g, \"\"));\n      this.key2 = this.keyArr.join().replace(/,/g, \"\");\n      this.key1 = this.key1.replace(/./g, \"*\");\n    },\n    isCorrect(password) {\n      let userInfo = window.localStorage[\"encryptSeed\"];\n      try {\n        let seedWords = seedLib\n          .decryptSeedPhrase(\n            JSON.parse(seedLib.decryptSeedPhrase(userInfo, password)).encrSeed,\n            password\n          )\n          .split(\",\");\n        if (this.type === \"priKey\") {\n          this.key1 = this.$store.state.wallets[\n            this.$store.state.currentIndex\n          ].keyPair.privateKey;\n        }\n        if (this.type === \"seed\") {\n          this.key1 = seedWords;\n        }\n        this.keyPromp = \"\";\n        this.key2 = \"\";\n        this.keyArr = [];\n        return true;\n      } catch (err) {\n        this.keyPromp = \"Your password is wrong.\";\n        // alert(\"Your password is wrong\");\n      }\n    },\n    clickShow(password) {\n      if (!this.isShow) {\n        if (this.isCorrect(password)) {\n          this.isShow = true;\n        }\n      } else {\n        this.key1 = \"\";\n        this.isShow = false;\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.move-enter-active,\n.move-leave-active {\n  transition: all 0.2s linear;\n  transform: translateY(0%);\n}\n.move-enter,\n.move-leave {\n  transform: translateY(-10px);\n}\n.move-leave-to {\n  transform: translateY(-10px);\n  color: #00b8af;\n}\ntextarea {\n  outline: none;\n  resize: none;\n  overflow-y: scroll;\n  line-height: 20px;\n  scrollbar-width: none;\n}\ntextarea::-webkit-scrollbar {\n  display: none;\n}\n</style>\n"]}]}