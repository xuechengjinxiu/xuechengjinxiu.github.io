{"remainingRequest":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/src/components/PwdText.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/src/components/PwdText.vue","mtime":1585119550000},{"path":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/vuetify-loader/lib/loader.js","mtime":1564062719000},{"path":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport seedLib from \"@/libs1/seed\";\n\nexport default {\n  name: \"PwdText\",\n  props: {\n    type: String,\n    promp: {\n      type: String,\n      default: \"Please input your password.\"\n    },\n    height: {\n      type: String,\n      default: \"40px\"\n    },\n    id: String\n  },\n  data() {\n    return {\n      keyPromp: \"\",\n      isShow: false,\n      key1: \"\",\n      key2: \"\",\n      keyArr: [],\n      flag: true,\n      textStyle: {\n        height: this.height,\n        width: \"100%\"\n      }\n    };\n  },\n  methods: {\n    keyDown(event) {\n      // If Press Delete key\n      if (event.keyCode == 8) {\n        //if Press Delete & cmd Key\n        if (event.metaKey) {\n          this.key1 = \"\";\n          this.key2 = \"\";\n          this.keyArr = [];\n        } else {\n          this.flag = false;\n          this.keyArr = this.keyArr\n            .join()\n            .replace(/,/g, \"\")\n            .split(\"\");\n          let num = event.target.selectionEnd - event.target.selectionStart;\n          if (num == 1 || num == 0) {\n            this.keyArr.splice(event.target.selectionStart - 1, 1);\n          } else {\n            this.keyArr.splice(event.target.selectionStart, num);\n          }\n          this.key2 = this.keyArr.join().replace(/,/g, \"\");\n        }\n      } else {\n        this.flag = true;\n      }\n    },\n    input() {\n      if (this.flag && this.key1.replace(/\\*/g, \"\") != \"\") {\n        this.passwordText();\n      }\n    },\n    passwordText() {\n      this.keyArr.push(this.key1.replace(/\\*/g, \"\"));\n      this.key2 = this.keyArr.join().replace(/,/g, \"\");\n      this.key1 = this.key1.replace(/./g, \"*\");\n    },\n    isCorrect(password) {\n      let userInfo = window.localStorage[\"encryptSeed\"];\n      try {\n        let seedWords = seedLib\n          .decryptSeedPhrase(\n            JSON.parse(seedLib.decryptSeedPhrase(userInfo, password)).encrSeed,\n            password\n          )\n          .split(\",\");\n        if (this.type === \"priKey\") {\n          this.key1 = this.$store.state.wallets[\n            this.$store.state.currentIndex\n          ].keyPair.privateKey;\n        }\n        if (this.type === \"seed\") {\n          this.key1 = seedWords;\n        }\n        this.keyPromp = \"\";\n        this.key2 = \"\";\n        this.keyArr = [];\n        return true;\n      } catch (err) {\n        this.keyPromp = \"Your password is wrong.\";\n        // alert(\"Your password is wrong\");\n      }\n    },\n    clickShow(password) {\n      if (!this.isShow) {\n        if (this.isCorrect(password)) {\n          this.isShow = true;\n        }\n      } else {\n        this.key1 = \"\";\n        this.isShow = false;\n      }\n    }\n  }\n};\n",null]}