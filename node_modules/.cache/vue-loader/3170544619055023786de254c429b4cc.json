{"remainingRequest":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/src/views/Home/scanQrStyle.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/src/views/Home/scanQrStyle.vue","mtime":1585119550000},{"path":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/vuetify-loader/lib/loader.js","mtime":1564062719000},{"path":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport QrcodeDecoder from \"qrcode-decoder\";\nimport crypto from \"@/libs1/crypto\";\nexport default {\n  data: () => ({\n    winWidth: window.innerWidth,\n    winHeight: window.innerHeight,\n    // orientation: window.orientation || window.screen.orientation.angle || 0\n    orientation:\n      \"orientation\" in window\n        ? window.orientation\n        : \"orientation\" in window.screen\n        ? window.screen.orientation.angle\n        : 0\n  }),\n  mounted() {\n    window.addEventListener(\"resize\", () => {\n      if (\"orientation\" in window.screen) {\n        if (this.orientation !== window.screen.orientation.angle) {\n          this.orientation = window.screen.orientation.angle;\n        }\n      }\n      if (\"orientation\" in window) {\n        if (this.orientation !== window.orientation) {\n          this.orientation = window.orientation;\n        }\n      }\n    });\n  },\n  computed: {\n    isPortrait() {\n      return this.orientation === 0 || this.orientation === 180;\n    },\n    isMobile() {\n      return this.$vuetify.breakpoint.sm;\n    }\n  },\n  methods: {\n    readQRimg() {\n      this.$parent.exitCamera();\n      document.getElementById(\"file\").click();\n    },\n    getUrl(type) {\n      let elem = document.getElementById(\"file\");\n      console.log(elem);\n      let qr = new QrcodeDecoder();\n      let url = null;\n      if (type === \"img-url\") {\n        url = elem.src;\n      } else if (type === \"file-url\" && elem.files.length > 0) {\n        url = this.getObjectURL(elem.files[0]);\n      }\n      qr.decodeFromImage(url)\n        .then(res => {\n          console.log(res.data);\n          let receiveAddress = JSON.parse(res.data);\n          if (\n            crypto.isValidAddress(receiveAddress.address, this.$config.NET_BYTE)\n          ) {\n            this.$store.commit(\"update_sendInfo\", {\n              recipient: receiveAddress.address,\n              amount: receiveAddress.amount,\n              description: receiveAddress.description\n            });\n            this.$router.replace({\n              path: \"/home/send\"\n            });\n          }\n        })\n        .catch(err => {\n          console.error(err);\n          alert(\"The qr code you selected is illegal in the site\");\n        });\n    },\n    // Get the preview image path\n    getObjectURL(file) {\n      let url = null;\n      if (window.createObjectURL !== undefined) {\n        // basic\n        url = window.createObjectURL(file);\n      } else if (window.URL !== undefined) {\n        // mozilla(firefox)\n        url = window.URL.createObjectURL(file);\n      } else if (window.webkitURL !== undefined) {\n        // webkit or chrome\n        url = window.webkitURL.createObjectURL(file);\n      }\n      return url;\n    }\n  }\n};\n",null]}