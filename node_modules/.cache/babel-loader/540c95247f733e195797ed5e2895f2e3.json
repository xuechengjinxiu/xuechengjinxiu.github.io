{"remainingRequest":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/babel-loader/lib/index.js!/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/vuetify-loader/lib/loader.js!/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/src/App.vue","mtime":1585119550000},{"path":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/vuetify-loader/lib/loader.js","mtime":1564062719000},{"path":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\n//\n//\n//\n//\n//\n//\nimport router from \"./router\";\nimport store from \"./store\";\nrouter.beforeEach(function (to, from, next) {\n  // eslint-disable-next-line no-unused-vars\n  var path = to.path,\n      meta = to.meta;\n  var requireLogin = meta.requireLogin; //determine loginType, update loginType & sendInfo\n\n  if (!store.state.loginType && Object.keys(to.query).length !== 0) {\n    store.commit(\"update_loginType\", \"send\");\n    store.commit(\"update_sendInfo\", to.query);\n  }\n\n  if (to.path == \"/\") {\n    console.log(\"INTO LOGIN\"); // clear vuex content\n\n    store.replaceState(Object.assign({}, store.state, {})); // if registered\n\n    if (window.localStorage[\"encryptSeed\"]) {\n      return next();\n    } else {\n      return next({\n        path: \"/create\",\n        query: to.query\n      });\n    }\n  }\n\n  if (!requireLogin) next(); // Not Require Logining\n  else if (store.state.password) next(); //Have logined\n    else {\n        if (store.state.loginType === \"send\") {\n          next({\n            path: \"/\",\n            query: to.query\n          });\n        } else {\n          next({\n            path: \"/\",\n            params: {\n              back: to\n            }\n          });\n        }\n      }\n});\nrouter.afterEach(function (to, from) {\n  //add query\n  if (to.path !== \"/home/send/finish\" && Object.keys(from.query).length !== 0 && Object.keys(to.query).length === 0) {\n    router.push({\n      path: to.path,\n      query: from.query\n    });\n  }\n});\n\nfunction debounce(func, delay) {\n  var timeout;\n  return function () {\n    var _this = this,\n        _arguments = arguments;\n\n    clearTimeout(timeout);\n    timeout = setTimeout(function () {\n      func.apply(_this, _arguments);\n    }, delay);\n  };\n}\n\nexport default {\n  name: \"App\",\n  data: function data() {\n    return {\n      loginTimer: \"\"\n    };\n  },\n  methods: {\n    resetTimer: function resetTimer() {\n      var _this2 = this;\n\n      clearTimeout(this.loginTimer);\n      var timeout = window.localStorage[\"sessionTimeout\"];\n      if (!timeout) return;\n      this.loginTimer = setTimeout(function () {\n        if (_this2.$store.state.password && _this2.$route.path !== \"/\" && _this2.$route.path !== \"/create\" && _this2.$route.path !== \"/restore\") {\n          _this2.$router.replace({\n            path: \"/\"\n          });\n        }\n      }, timeout * 60 * 1000);\n    }\n  },\n  mounted: function mounted() {\n    var _this3 = this;\n\n    document.addEventListener(\"mousemove\", debounce(function () {\n      _this3.resetTimer();\n    }, 1000));\n    document.addEventListener(\"mousedown\", debounce(function () {\n      _this3.resetTimer();\n    }, 1000));\n    document.addEventListener(\"touchstart\", debounce(function () {\n      _this3.resetTimer();\n    }, 1000));\n  }\n};",{"version":3,"sources":["App.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <v-app>\n    <router-view class=\"mt-4 mb-3 mx12\"></router-view>\n  </v-app>\n</template>\n\n<script>\nimport router from \"./router\";\nimport store from \"./store\";\n\nrouter.beforeEach((to, from, next) => {\n  // eslint-disable-next-line no-unused-vars\n  const { path, meta } = to;\n  const { requireLogin } = meta;\n  //determine loginType, update loginType & sendInfo\n  if (!store.state.loginType && Object.keys(to.query).length !== 0) {\n    store.commit(\"update_loginType\", \"send\");\n    store.commit(\"update_sendInfo\", to.query);\n  }\n  if (to.path == \"/\") {\n    console.log(\"INTO LOGIN\");\n    // clear vuex content\n    store.replaceState(Object.assign({}, store.state, {}));\n    // if registered\n    if (window.localStorage[\"encryptSeed\"]) {\n      return next();\n    } else {\n      return next({ path: \"/create\", query: to.query });\n    }\n  }\n  if (!requireLogin) next();\n  // Not Require Logining\n  else if (store.state.password) next();\n  //Have logined\n  else {\n    if (store.state.loginType === \"send\") {\n      next({ path: \"/\", query: to.query });\n    } else {\n      next({ path: \"/\", params: { back: to } });\n    }\n  }\n});\n\nrouter.afterEach((to, from) => {\n  //add query\n  if (\n    to.path !== \"/home/send/finish\" &&\n    Object.keys(from.query).length !== 0 &&\n    Object.keys(to.query).length === 0\n  ) {\n    router.push({ path: to.path, query: from.query });\n  }\n});\n\nfunction debounce(func, delay) {\n  let timeout;\n  return function() {\n    clearTimeout(timeout);\n    timeout = setTimeout(() => {\n      func.apply(this, arguments);\n    }, delay);\n  };\n}\n\nexport default {\n  name: \"App\",\n  data: () => ({\n    loginTimer: \"\"\n  }),\n  methods: {\n    resetTimer() {\n      clearTimeout(this.loginTimer);\n      let timeout = window.localStorage[\"sessionTimeout\"];\n      if (!timeout) return;\n      this.loginTimer = setTimeout(() => {\n        if (\n          this.$store.state.password &&\n          this.$route.path !== \"/\" &&\n          this.$route.path !== \"/create\" &&\n          this.$route.path !== \"/restore\"\n        ) {\n          this.$router.replace({ path: \"/\" });\n        }\n      }, timeout * 60 * 1000);\n    }\n  },\n  mounted() {\n    document.addEventListener(\n      \"mousemove\",\n      debounce(() => {\n        this.resetTimer();\n      }, 1000)\n    );\n    document.addEventListener(\n      \"mousedown\",\n      debounce(() => {\n        this.resetTimer();\n      }, 1000)\n    );\n    document.addEventListener(\n      \"touchstart\",\n      debounce(() => {\n        this.resetTimer();\n      }, 1000)\n    );\n  }\n};\n</script>\n<style>\n.maxWidth {\n  max-width: 1000px;\n  margin: auto;\n}\n</style>\n"],"sourceRoot":"src"}]}