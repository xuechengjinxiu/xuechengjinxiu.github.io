{"remainingRequest":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/babel-loader/lib/index.js!/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/vuetify-loader/lib/loader.js!/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/src/views/Home/scanQrStyle.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/src/views/Home/scanQrStyle.vue","mtime":1585119550000},{"path":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/vuetify-loader/lib/loader.js","mtime":1564062719000},{"path":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport QrcodeDecoder from \"qrcode-decoder\";\nimport crypto from \"@/libs1/crypto\";\nexport default {\n  data: function data() {\n    return {\n      winWidth: window.innerWidth,\n      winHeight: window.innerHeight,\n      // orientation: window.orientation || window.screen.orientation.angle || 0\n      orientation: \"orientation\" in window ? window.orientation : \"orientation\" in window.screen ? window.screen.orientation.angle : 0\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    window.addEventListener(\"resize\", function () {\n      if (\"orientation\" in window.screen) {\n        if (_this.orientation !== window.screen.orientation.angle) {\n          _this.orientation = window.screen.orientation.angle;\n        }\n      }\n\n      if (\"orientation\" in window) {\n        if (_this.orientation !== window.orientation) {\n          _this.orientation = window.orientation;\n        }\n      }\n    });\n  },\n  computed: {\n    isPortrait: function isPortrait() {\n      return this.orientation === 0 || this.orientation === 180;\n    },\n    isMobile: function isMobile() {\n      return this.$vuetify.breakpoint.sm;\n    }\n  },\n  methods: {\n    readQRimg: function readQRimg() {\n      this.$parent.exitCamera();\n      document.getElementById(\"file\").click();\n    },\n    getUrl: function getUrl(type) {\n      var _this2 = this;\n\n      var elem = document.getElementById(\"file\");\n      console.log(elem);\n      var qr = new QrcodeDecoder();\n      var url = null;\n\n      if (type === \"img-url\") {\n        url = elem.src;\n      } else if (type === \"file-url\" && elem.files.length > 0) {\n        url = this.getObjectURL(elem.files[0]);\n      }\n\n      qr.decodeFromImage(url).then(function (res) {\n        console.log(res.data);\n        var receiveAddress = JSON.parse(res.data);\n\n        if (crypto.isValidAddress(receiveAddress.address, _this2.$config.NET_BYTE)) {\n          _this2.$store.commit(\"update_sendInfo\", {\n            recipient: receiveAddress.address,\n            amount: receiveAddress.amount,\n            description: receiveAddress.description\n          });\n\n          _this2.$router.replace({\n            path: \"/home/send\"\n          });\n        }\n      }).catch(function (err) {\n        console.error(err);\n        alert(\"The qr code you selected is illegal in the site\");\n      });\n    },\n    // Get the preview image path\n    getObjectURL: function getObjectURL(file) {\n      var url = null;\n\n      if (window.createObjectURL !== undefined) {\n        // basic\n        url = window.createObjectURL(file);\n      } else if (window.URL !== undefined) {\n        // mozilla(firefox)\n        url = window.URL.createObjectURL(file);\n      } else if (window.webkitURL !== undefined) {\n        // webkit or chrome\n        url = window.webkitURL.createObjectURL(file);\n      }\n\n      return url;\n    }\n  }\n};",{"version":3,"sources":["scanQrStyle.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"popContainer\">\n    <div\n      class=\"flex-grow-1 black-bg\"\n      :class=\"!isPortrait ? 'top-content1' : 'top-content'\"\n    >\n      <div\n        class=\"d-flex justify-space-between\"\n        :style=\"{ margin: 'auto', width: isMobile ? '100%' : '720px' }\"\n      >\n        <img\n          :style=\"{\n            height: !isPortrait ? '10vmin' : isMobile ? '8vw' : '62px'\n          }\"\n          src=\"@/assets/ic_close_white.svg\"\n          @click=\"$parent.exitCamera()\"\n        />\n        <img\n          :style=\"{\n            height: !isPortrait ? '10vmin' : isMobile ? '8vw' : '62px'\n          }\"\n          src=\"@/assets/ic_photo_library.svg\"\n          @click=\"readQRimg()\"\n        />\n        <input\n          style=\"display: none;\"\n          type=\"file\"\n          @change=\"getUrl('file-url')\"\n          id=\"file\"\n        />\n      </div>\n    </div>\n\n    <div class=\"d-flex justify-center\">\n      <div class=\"flex-grow-1 black-bg\"></div>\n      <div\n        class=\"add-radius\"\n        :class=\"\n          !isPortrait\n            ? 'middle-style-landscape'\n            : isMobile\n            ? 'middle-style'\n            : 'middle-style-big'\n        \"\n      >\n        <div\n          class=\"hr-line-div\"\n          :style=\"{\n            width: !isPortrait ? '50vmin' : isMobile ? '62vw' : '470px'\n          }\"\n        ></div>\n      </div>\n      <div class=\"flex-grow-1 black-bg\"></div>\n    </div>\n\n    <div class=\"flex-grow-1 black-bg bottom-content SF-Text-Regular\">\n      <div class=\"scan-font\" style=\"\">Scan QR Code</div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport QrcodeDecoder from \"qrcode-decoder\";\nimport crypto from \"@/libs1/crypto\";\nexport default {\n  data: () => ({\n    winWidth: window.innerWidth,\n    winHeight: window.innerHeight,\n    // orientation: window.orientation || window.screen.orientation.angle || 0\n    orientation:\n      \"orientation\" in window\n        ? window.orientation\n        : \"orientation\" in window.screen\n        ? window.screen.orientation.angle\n        : 0\n  }),\n  mounted() {\n    window.addEventListener(\"resize\", () => {\n      if (\"orientation\" in window.screen) {\n        if (this.orientation !== window.screen.orientation.angle) {\n          this.orientation = window.screen.orientation.angle;\n        }\n      }\n      if (\"orientation\" in window) {\n        if (this.orientation !== window.orientation) {\n          this.orientation = window.orientation;\n        }\n      }\n    });\n  },\n  computed: {\n    isPortrait() {\n      return this.orientation === 0 || this.orientation === 180;\n    },\n    isMobile() {\n      return this.$vuetify.breakpoint.sm;\n    }\n  },\n  methods: {\n    readQRimg() {\n      this.$parent.exitCamera();\n      document.getElementById(\"file\").click();\n    },\n    getUrl(type) {\n      let elem = document.getElementById(\"file\");\n      console.log(elem);\n      let qr = new QrcodeDecoder();\n      let url = null;\n      if (type === \"img-url\") {\n        url = elem.src;\n      } else if (type === \"file-url\" && elem.files.length > 0) {\n        url = this.getObjectURL(elem.files[0]);\n      }\n      qr.decodeFromImage(url)\n        .then(res => {\n          console.log(res.data);\n          let receiveAddress = JSON.parse(res.data);\n          if (\n            crypto.isValidAddress(receiveAddress.address, this.$config.NET_BYTE)\n          ) {\n            this.$store.commit(\"update_sendInfo\", {\n              recipient: receiveAddress.address,\n              amount: receiveAddress.amount,\n              description: receiveAddress.description\n            });\n            this.$router.replace({\n              path: \"/home/send\"\n            });\n          }\n        })\n        .catch(err => {\n          console.error(err);\n          alert(\"The qr code you selected is illegal in the site\");\n        });\n    },\n    // Get the preview image path\n    getObjectURL(file) {\n      let url = null;\n      if (window.createObjectURL !== undefined) {\n        // basic\n        url = window.createObjectURL(file);\n      } else if (window.URL !== undefined) {\n        // mozilla(firefox)\n        url = window.URL.createObjectURL(file);\n      } else if (window.webkitURL !== undefined) {\n        // webkit or chrome\n        url = window.webkitURL.createObjectURL(file);\n      }\n      return url;\n    }\n  }\n};\n</script>\n\n<style scoped>\n.popContainer {\n  z-index: 1000;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n}\n.flex-grow-1 {\n  flex-grow: 1;\n}\n.add-radius {\n  border: 1px solid #00b8af;\n}\n.black-bg {\n  background: rgba(0, 0, 0, 0.8);\n}\n.middle-style {\n  width: 62vw;\n  height: 62vw;\n}\n.middle-style-big {\n  width: 470px;\n  height: 470px;\n}\n.middle-style-landscape {\n  width: 50vmin;\n  height: 50vmin;\n}\n.scan-font {\n  color: #9e9e9e;\n  font-size: 5vmin;\n}\n.top-content {\n  padding: 1.25rem;\n  padding-bottom: 2rem;\n}\n.top-content1 {\n  padding: 12px 12px 0 12px;\n}\n.bottom-content {\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  padding-top: 0.94rem;\n  padding-bottom: 3.75rem;\n}\n.hr-line-div {\n  position: relative;\n  margin: 0 auto;\n  height: 2px;\n  width: 100%;\n  background: linear-gradient(\n    left,\n    transparent 0%,\n    #00b8af 50%,\n    transparent 100%\n  );\n  animation: scan-move 3s linear infinite;\n}\n@keyframes scan-move {\n  0% {\n    top: 0%;\n  }\n  50% {\n    top: 50%;\n  }\n  100% {\n    top: 100%;\n  }\n}\n</style>\n"],"sourceRoot":"src/views/Home"}]}