{"remainingRequest":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/thread-loader/dist/cjs.js!/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/babel-loader/lib/index.js!/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/vuetify-loader/lib/loader.js!/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/src/App.vue","mtime":1585119550000},{"path":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/vuetify-loader/lib/loader.js","mtime":1564062719000},{"path":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jin/Desktop/v-cloud-feature-common-component/token-service/wallet/ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\n//\n//\n//\n//\n//\n//\nimport router from \"./router\";\nimport store from \"./store\";\nrouter.beforeEach(function (to, from, next) {\n  // eslint-disable-next-line no-unused-vars\n  var path = to.path,\n      meta = to.meta;\n  var requireLogin = meta.requireLogin; //determine loginType, update loginType & sendInfo\n\n  if (!store.state.loginType && Object.keys(to.query).length !== 0) {\n    store.commit(\"update_loginType\", \"send\");\n    store.commit(\"update_sendInfo\", to.query);\n  }\n\n  if (to.path == \"/\") {\n    console.log(\"INTO LOGIN\"); // clear vuex content\n\n    store.replaceState(Object.assign({}, store.state, {})); // if registered\n\n    if (window.localStorage[\"encryptSeed\"]) {\n      return next();\n    } else {\n      return next({\n        path: \"/create\",\n        query: to.query\n      });\n    }\n  }\n\n  if (!requireLogin) next(); // Not Require Logining\n  else if (store.state.password) next(); //Have logined\n    else {\n        if (store.state.loginType === \"send\") {\n          next({\n            path: \"/\",\n            query: to.query\n          });\n        } else {\n          next({\n            path: \"/\",\n            params: {\n              back: to\n            }\n          });\n        }\n      }\n});\nrouter.afterEach(function (to, from) {\n  //add query\n  if (to.path !== \"/home/send/finish\" && Object.keys(from.query).length !== 0 && Object.keys(to.query).length === 0) {\n    router.push({\n      path: to.path,\n      query: from.query\n    });\n  }\n});\n\nfunction debounce(func, delay) {\n  var timeout;\n  return function () {\n    var _this = this,\n        _arguments = arguments;\n\n    clearTimeout(timeout);\n    timeout = setTimeout(function () {\n      func.apply(_this, _arguments);\n    }, delay);\n  };\n}\n\nexport default {\n  name: \"App\",\n  data: function data() {\n    return {\n      loginTimer: \"\"\n    };\n  },\n  methods: {\n    resetTimer: function resetTimer() {\n      var _this2 = this;\n\n      clearTimeout(this.loginTimer);\n      var timeout = window.localStorage[\"sessionTimeout\"];\n      if (!timeout) return;\n      this.loginTimer = setTimeout(function () {\n        if (_this2.$store.state.password && _this2.$route.path !== \"/\" && _this2.$route.path !== \"/create\" && _this2.$route.path !== \"/restore\") {\n          _this2.$router.replace({\n            path: \"/\"\n          });\n        }\n      }, timeout * 60 * 1000);\n    }\n  },\n  mounted: function mounted() {\n    var _this3 = this;\n\n    document.addEventListener(\"mousemove\", debounce(function () {\n      _this3.resetTimer();\n    }, 1000));\n    document.addEventListener(\"mousedown\", debounce(function () {\n      _this3.resetTimer();\n    }, 1000));\n    document.addEventListener(\"touchstart\", debounce(function () {\n      _this3.resetTimer();\n    }, 1000));\n  }\n};",null]}